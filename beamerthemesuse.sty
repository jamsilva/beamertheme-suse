\mode<presentation>

% packages
\RequirePackage{fontspec}
\RequirePackage{scrextend}
\RequirePackage{textpos}
\RequirePackage{tikz}
\RequirePackage{xcolor}

% fonts
\setmainfont{Poppins-Light}[BoldFont=Poppins-Medium, ItalicFont=Poppins-LightItalic, BoldItalicFont=Poppins-MediumItalic]
\setsansfont{Poppins-Light}[BoldFont=Poppins-Medium, ItalicFont=Poppins-LightItalic, BoldItalicFont=Poppins-MediumItalic]
\setmonofont{RobotoMono-Regular}[BoldFont=RobotoMono-Bold, ItalicFont=RobotoMono-Italic, BoldItalicFont=RobotoMono-BoldItalic]

% colors
\definecolor{SUSEPine}{RGB}{12, 50, 44}
\definecolor{SUSEJungle}{RGB}{48, 186, 120}
\definecolor{SUSEMidnight}{RGB}{25, 32, 114}
\definecolor{SUSEWaterhole}{RGB}{36, 83, 255}
\definecolor{SUSEMint}{RGB}{144, 235, 205}
\definecolor{SUSEPersimmon}{RGB}{254, 124, 63}
\definecolor{SUSEFog}{RGB}{247, 247, 247}

\setbeamercolor*{title page header}{fg=white}
\setbeamercolor*{subtitle page header}{fg=white}
\setbeamercolor*{date}{fg=SUSEJungle}

\setbeamercolor*{title}{fg=SUSEPine}
\setbeamercolor{frametitle}{fg=SUSEPine}
\setbeamercolor{structure}{fg=SUSEPine}

\setbeamercolor{palette primary}{bg=white,fg=SUSEPine}
\setbeamercolor{palette secondary}{bg=white,fg=SUSEJungle}
\setbeamercolor{palette tertiary}{bg=white,fg=SUSEMint}
\setbeamercolor{palette quaternary}{bg=white,fg=SUSEPersimmon}
\setbeamercolor{structure}{fg=SUSEJungle}
\setbeamercolor{section in toc}{fg=SUSEPine}

\setbeamercolor*{enumerate item}{fg=SUSEJungle}
\setbeamercolor*{enumerate subitem}{fg=SUSEPine}
\setbeamercolor*{enumerate subsubitem}{fg=SUSEFog}

\changefontsizes{9pt}
\setbeamerfont{structure}{family=\sffamily}
\setbeamerfont{date}{size=\fontsize{5pt}{6pt},family=\fontspec{Poppins-SemiBold}}
\setbeamerfont{title}{size=\fontsize{30pt}{31pt},series=\bfseries}
\setbeamerfont{subtitle}{size=\fontsize{9pt}{11pt},series=\mdseries}
\setbeamerfont{frametitle}{size=\fontsize{16pt}{19pt},series=\bfseries}
\setbeamerfont{framesubtitle}{size=\fontsize{10pt}{12pt},series=\mdseries}
\setbeamerfont{tiny structure}{size=\fontsize{4pt}{5pt},series=\mdseries}

\setbeamertemplate{background}{
  \ifnum \theframenumber=1
  \begin{tikzpicture}
    \useasboundingbox (0,0) rectangle(\the\paperwidth,\the\paperheight);
    \fill[color=SUSEPine] (0,0) rectangle (\the\paperwidth,\the\paperheight);
    \node[anchor=south west] at (-0.111,-0.111)
    {\includegraphics[width=\the\paperwidth]{beamerthemesuse-infinity.png}};
  \end{tikzpicture}
  \fi
}

\setbeamertemplate{headline}{
  \ifnum \theframenumber=1
    \vspace*{0.04\paperheight}
    \begin{columns}
      \column{0.05\paperwidth}
      \column{0.16\paperwidth}
        \includegraphics[width=0.16\paperwidth]{beamerthemesuse-logo.eps}
      \column{0.74\paperwidth}
      \begin{beamercolorbox}{date}
        \usebeamerfont{date}\usebeamercolor{date}\hfill\MakeUppercase{\insertdate}
      \end{beamercolorbox}
      \column{0.05\paperwidth}
    \end{columns}
    \vspace{0.08\paperheight}
    \begin{columns}
      \column{0.05\paperwidth}
      \column{0.65\paperwidth}
      \begin{beamercolorbox}{title page header}
        \usebeamerfont{title}\usebeamercolor{title}\inserttitle
      \end{beamercolorbox}
      \column{0.3\paperwidth}
    \end{columns}
    \vspace{0.06\paperheight}
    \begin{columns}
      \column{0.056\paperwidth}
      \column{0.4\paperwidth}
      \begin{beamercolorbox}{subtitle page header}
        \usebeamerfont{subtitle}\usebeamercolor{subtitle}\insertsubtitle
      \end{beamercolorbox}
      \column{0.55\paperwidth}
    \end{columns}
  \else
    \includegraphics[width=\the\paperwidth]{beamerthemesuse-topbar.png}
    \vspace*{0.05\paperheight}
  \fi
}

\setbeamertemplate{footline}{
  \ifnum \theframenumber=1
  \else
    \hspace{0.05\paperwidth}
    \includegraphics[width=3em]{beamerthemesuse-mini-logo.eps}
    \hspace{0.5em}
    \fontspec{Poppins-Regular}Copyright \textcopyright{} SUSE \the\year
    \hfill
    \fontspec{Poppins-SemiBold}\insertpagenumber
    \hspace{0.05\paperwidth}
    \vspace*{0.06\paperheight}
  \fi
}

\setbeamertemplate{frametitle}{
  \ifbeamercolorempty[bg]{frametitle}{}{\nointerlineskip}
  \@tempdima=\textwidth
  \advance\@tempdima by\beamer@leftmargin
  \advance\@tempdima by\beamer@rightmargin
  \advance\@tempdima by-0.075\paperwidth
  \hfill
  \begin{beamercolorbox}[sep=0.3cm,left,wd=\the\@tempdima]{frametitle}
    \usebeamerfont{frametitle}
    \vbox{}\vskip-1ex
    \if@tempswa\else\csname beamer@fteleft\endcsname\fi
    \strut\insertframetitle\strut\par
    {
      \ifx \insertframesubtitle\@empty
      \else
      {
        \usebeamerfont{framesubtitle}
        \usebeamercolor[fg]{framesubtitle}\strut\insertframesubtitle\strut\par
      }
      \fi
    }
    \vskip-1ex
    \if@tempswa\else\vskip-.3cm\fi
  \end{beamercolorbox}
}

\setbeamertemplate{itemize items}{\textbf{--}}

% remove the regular vertically centered title page text, we need it top-aligned
\setbeamertemplate{title page}{}

% removes navigation toolbar from the default position
\setbeamertemplate{navigation symbols}{}

\mode<all>
